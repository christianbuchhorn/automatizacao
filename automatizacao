// ==UserScript==
// @name         Automação Paineis Ganha Tempo
// @namespace    http://tampermonkey.net/
// @version      1.0
// @description  Automação de painel com salvamento de log
// @author       Carlos Christian Buchhorn Clair / Victor Hugo Santos de Moraes
// @match        https://ganhatempo.seplag.mt.gov.br/ns-panel/
// @icon         https://www.google.com/s2/favicons?sz=64&domain=gov.br
// @grant        GM_download
// @run-at       document-idle
// ==/UserScript==

function _0x5488(_0x4a342d,_0x34b049){const _0xb0065d=_0xb006();return _0x5488=function(_0x5488fe,_0x3d997e){_0x5488fe=_0x5488fe-0x17d;let _0xc4bef7=_0xb0065d[_0x5488fe];return _0xc4bef7;},_0x5488(_0x4a342d,_0x34b049);}function _0xb006(){const _0xad1d1e=['observe','okButton','log','3oQeQhS','body','loading','slice','toLocaleDateString','✅\x20Botão\x20OK\x20final\x20clicado','328AptHyc','querySelector','addedNodes','157087xTKGWV','📝\x20Queda\x20registrada:\x20','disconnect','171018gGTIgz','now','1290894qjftiO','error','createObjectURL','queda-log.txt','backButton','text/plain','4333565GpVuzF','html\x20>\x20body\x20>\x20div:nth-of-type(2)\x20>\x20div:nth-of-type(1)\x20>\x20div:nth-of-type(4)\x20>\x20div:nth-of-type(1)\x20>\x20button:nth-of-type(1)','trim','6291796EDdrLX','div#app\x20>\x20div:nth-of-type(1)\x20>\x20div:nth-of-type(1)\x20>\x20div:nth-of-type(2)\x20>\x20form:nth-of-type(1)\x20>\x20div:nth-of-type(4)\x20>\x20div:nth-of-type(1)\x20>\x20button:nth-of-type(1)','❌\x20Erro\x20ao\x20clicar\x20em\x20voltar\x20ou\x20salvar:','25434531JKuGLY','saveButton','then','click','toTimeString','Timeout\x20ao\x20esperar\x20por\x20','⚙️\x20Automação\x20iniciada...','2994184xEfATD'];_0xb006=function(){return _0xad1d1e;};return _0xb006();}(function(_0x195e9f,_0x3dfd03){const _0x5d604f=_0x5488,_0x475596=_0x195e9f();while(!![]){try{const _0x10a2be=parseInt(_0x5d604f(0x19b))/0x1+parseInt(_0x5d604f(0x189))/0x2*(-parseInt(_0x5d604f(0x18d))/0x3)+-parseInt(_0x5d604f(0x17f))/0x4+parseInt(_0x5d604f(0x1a1))/0x5+-parseInt(_0x5d604f(0x199))/0x6+parseInt(_0x5d604f(0x196))/0x7*(-parseInt(_0x5d604f(0x193))/0x8)+parseInt(_0x5d604f(0x182))/0x9;if(_0x10a2be===_0x3dfd03)break;else _0x475596['push'](_0x475596['shift']());}catch(_0x47a22f){_0x475596['push'](_0x475596['shift']());}}}(_0xb006,0xeb9b1),(async function(){'use strict';const _0x5e646f=_0x5488;const _0x7ef4be=_0x2981fe=>new Promise(_0x5753b4=>setTimeout(_0x5753b4,_0x2981fe));let _0x684dc4=0x0,_0x580570='';const _0x398ade=_0x5e646f(0x19e);function _0x6960d(){const _0x152900=_0x5e646f,_0x43af3d=new Date(),_0x23b812=_0x43af3d[_0x152900(0x186)]()[_0x152900(0x190)](0x0,0x5),_0x51c9c2=_0x43af3d[_0x152900(0x191)]('pt-BR');_0x684dc4++;const _0x3886c5=_0x684dc4+'-'+_0x23b812+'-'+_0x51c9c2+'\x0a';_0x580570+=_0x3886c5;const _0x2e0f8f=new Blob([_0x580570],{'type':_0x152900(0x1a0)}),_0x1c0c3c=URL[_0x152900(0x19d)](_0x2e0f8f);GM_download({'url':_0x1c0c3c,'name':_0x398ade,'saveAs':![],'onerror':_0x1fef83=>console[_0x152900(0x19c)]('❌\x20Erro\x20ao\x20baixar\x20o\x20log:',_0x1fef83),'onload':()=>console[_0x152900(0x18c)](_0x152900(0x197)+_0x3886c5[_0x152900(0x17e)]())});}function _0x5dc55a(_0x1a3a66,_0x44411b=0x2710){return new Promise((_0x57a695,_0x3b7a7f)=>{const _0x2b3ddc=_0x5488,_0x44cf84=Date[_0x2b3ddc(0x19a)](),_0x6dddd=setInterval(()=>{const _0x249bf1=_0x2b3ddc,_0x2b43d8=document['querySelector'](_0x1a3a66);if(_0x2b43d8)clearInterval(_0x6dddd),_0x57a695(_0x2b43d8);else Date[_0x249bf1(0x19a)]()-_0x44cf84>_0x44411b&&(clearInterval(_0x6dddd),_0x3b7a7f(new Error(_0x249bf1(0x187)+_0x1a3a66)));},0x12c);});}function _0x24e746(_0x2e8a0e){const _0xafd34=_0x5e646f,_0x80c4fa=new MouseEvent(_0xafd34(0x185),{'view':window,'bubbles':!![],'cancelable':!![]});_0x2e8a0e['dispatchEvent'](_0x80c4fa);}const _0x508473={'okButton':_0x5e646f(0x17d),'saveButton':_0x5e646f(0x180),'backButton':'a.router-link-active[href=\x22#/\x22]'};async function _0x5d9783(){const _0x109de4=_0x5e646f;console[_0x109de4(0x18c)](_0x109de4(0x188));try{const _0x2f3c4e=await _0x5dc55a(_0x508473['okButton'],0x2710);_0x2f3c4e['click'](),console['log']('✅\x20Botão\x20OK\x20clicado'),await _0x7ef4be(0x3e8);}catch{}try{const _0x47b5c5=document['querySelector'](_0x508473[_0x109de4(0x183)]);_0x47b5c5&&(_0x47b5c5['click'](),console[_0x109de4(0x18c)]('💾\x20Botão\x20Salvar\x20clicado'),await _0x7ef4be(0x3e8));}catch{}try{const _0x14d6e7=document[_0x109de4(0x194)](_0x508473[_0x109de4(0x18b)]);_0x14d6e7&&(_0x14d6e7[_0x109de4(0x185)](),console[_0x109de4(0x18c)](_0x109de4(0x192)),await _0x7ef4be(0x3e8));}catch{}try{const _0x215f92=await _0x5dc55a(_0x508473[_0x109de4(0x19f)],0x2710);_0x215f92&&(_0x24e746(_0x215f92),console[_0x109de4(0x18c)]('🔙\x20Botão\x20Voltar\x20clicado'),_0x6960d());}catch(_0x44bc65){console[_0x109de4(0x18c)](_0x109de4(0x181),_0x44bc65);}}const _0x5b0595=new MutationObserver(_0x5d07a9=>{const _0x33f9d2=_0x5e646f;for(const _0x21cb66 of _0x5d07a9){if(_0x21cb66[_0x33f9d2(0x195)]['length']>0x0){const _0x3da8d8=document[_0x33f9d2(0x194)](_0x508473[_0x33f9d2(0x18b)]),_0x5a23f3=document[_0x33f9d2(0x194)](_0x508473[_0x33f9d2(0x183)]);if(_0x3da8d8||_0x5a23f3){_0x5b0595[_0x33f9d2(0x198)](),_0x5d9783()[_0x33f9d2(0x184)](()=>{const _0x1738d4=_0x33f9d2;_0x5b0595['observe'](document[_0x1738d4(0x18e)],{'childList':!![],'subtree':!![]});});break;}}}});function _0x3fa3a5(){const _0x136ded=_0x5e646f;console[_0x136ded(0x18c)]('🚀\x20Script\x20de\x20automação\x20com\x20log\x20ativado'),_0x5b0595[_0x136ded(0x18a)](document[_0x136ded(0x18e)],{'childList':!![],'subtree':!![]}),_0x5d9783();}document['readyState']===_0x5e646f(0x18f)?document['addEventListener']('DOMContentLoaded',_0x3fa3a5):_0x3fa3a5();}()));
