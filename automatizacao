// ==UserScript==
// @name         Automação Paineis Ganha Tempo - Arquivo por Queda
// @namespace    http://tampermonkey.net/
// @version      1.0
// @description  Automação de painel criando um arquivo por queda com data e hora
// @author       Carlos Christian Buchhorn Clair / Victor Hugo Santos de Moraes
// @match        https://ganhatempo.seplag.mt.gov.br/ns-panel/
// @grant        GM_download
// @run-at       document-idle
// ==/UserScript==


function _0x5a1c(){const _0x59b7a1=['log','getHours','❌\x20Erro\x20ao\x20simular\x20clique:','✅\x20Botão\x20OK\x20final\x20clicado','getMonth','body','getDate','13283910yWtuTK','addEventListener','mousedown','click','getSeconds','queda-','⚙️\x20Automação\x20iniciada...','div#app\x20>\x20div:nth-of-type(1)\x20>\x20div:nth-of-type(1)\x20>\x20div:nth-of-type(2)\x20>\x20form:nth-of-type(1)\x20>\x20div:nth-of-type(4)\x20>\x20div:nth-of-type(1)\x20>\x20button:nth-of-type(1)','querySelector','observe','disconnect','okButton','🔙\x20Botão\x20Voltar\x20clicado','addedNodes','2896115vmCkOe','🚀\x20Script\x20de\x20automação\x20com\x20arquivos\x20por\x20queda\x20ativado','createObjectURL','html\x20>\x20body\x20>\x20div:nth-of-type(2)\x20>\x20div:nth-of-type(1)\x20>\x20div:nth-of-type(4)\x20>\x20div:nth-of-type(1)\x20>\x20button:nth-of-type(1)','4181157hgMHeI','now','getFullYear','❌\x20Erro\x20ao\x20clicar\x20em\x20Voltar:','✅\x20Botão\x20OK\x20clicado','9Jnejgo','⚠️\x20Botão\x20OK\x20final\x20não\x20encontrado.','140geHBsJ','Timeout\x20ao\x20esperar\x20por\x20','1627176IDtIQS','✅\x20Clique\x20simulado\x20com\x20sucesso.','dispatchEvent','loading','saveButton','❌\x20Erro\x20ao\x20baixar\x20o\x20arquivo:','backButton','length','211648kQJlUU','4254252lKfgMz','274218PrlJnT','DOMContentLoaded'];_0x5a1c=function(){return _0x59b7a1;};return _0x5a1c();}function _0xa2aa(_0x5e62a9,_0x58e68a){const _0x5a1c08=_0x5a1c();return _0xa2aa=function(_0xa2aa29,_0x19ada5){_0xa2aa29=_0xa2aa29-0x1ea;let _0x372f48=_0x5a1c08[_0xa2aa29];return _0x372f48;},_0xa2aa(_0x5e62a9,_0x58e68a);}(function(_0x3f940a,_0x57660b){const _0x3ad4eb=_0xa2aa,_0x41b7a2=_0x3f940a();while(!![]){try{const _0x5588a0=parseInt(_0x3ad4eb(0x1f4))/0x1*(-parseInt(_0x3ad4eb(0x200))/0x2)+-parseInt(_0x3ad4eb(0x1ef))/0x3+parseInt(_0x3ad4eb(0x201))/0x4+-parseInt(_0x3ad4eb(0x1eb))/0x5+-parseInt(_0x3ad4eb(0x202))/0x6*(-parseInt(_0x3ad4eb(0x1f6))/0x7)+parseInt(_0x3ad4eb(0x1f8))/0x8+parseInt(_0x3ad4eb(0x20b))/0x9;if(_0x5588a0===_0x57660b)break;else _0x41b7a2['push'](_0x41b7a2['shift']());}catch(_0x5c7d0a){_0x41b7a2['push'](_0x41b7a2['shift']());}}}(_0x5a1c,0xb2a04),(async function(){'use strict';const _0x1cb051=_0xa2aa;const _0x1139da=_0x18699e=>new Promise(_0x522c87=>setTimeout(_0x522c87,_0x18699e));function _0x4ba17e(_0x35f19b){return String(_0x35f19b)['padStart'](0x2,'0');}function _0x3b637e(){const _0x2c5806=_0xa2aa,_0x4745f9=new Date(),_0x372382=_0x4ba17e(_0x4745f9[_0x2c5806(0x20a)]()),_0x5f281f=_0x4ba17e(_0x4745f9[_0x2c5806(0x208)]()+0x1),_0x41569a=_0x4745f9[_0x2c5806(0x1f1)](),_0xb78ce1=_0x4ba17e(_0x4745f9[_0x2c5806(0x205)]()),_0x2826bb=_0x4ba17e(_0x4745f9['getMinutes']()),_0x59f663=_0x4ba17e(_0x4745f9[_0x2c5806(0x20f)]()),_0x1ba53a=_0x372382+'/'+_0x5f281f+'/'+_0x41569a+'\x20'+_0xb78ce1+':'+_0x2826bb+':'+_0x59f663,_0x1150f0=_0x2c5806(0x210)+_0x372382+_0x5f281f+_0x41569a+'-'+_0xb78ce1+_0x2826bb+_0x59f663+'.txt',_0x1714d3=new Blob([_0x1ba53a],{'type':'text/plain'}),_0x168880=URL[_0x2c5806(0x1ed)](_0x1714d3);GM_download({'url':_0x168880,'name':_0x1150f0,'saveAs':![],'onerror':_0x2a3ca0=>console['error'](_0x2c5806(0x1fd),_0x2a3ca0),'onload':()=>console['log']('💾\x20Arquivo\x20gerado:\x20'+_0x1150f0)});}function _0x3d026a(_0x2228cb,_0x23b62c=0x2710){return new Promise((_0x46de75,_0x3f1e9d)=>{const _0x241fec=_0xa2aa,_0x8839a=Date[_0x241fec(0x1f0)](),_0x2cce79=setInterval(()=>{const _0xfea35d=_0x241fec,_0x2b9099=document[_0xfea35d(0x213)](_0x2228cb);if(_0x2b9099)clearInterval(_0x2cce79),_0x46de75(_0x2b9099);else Date[_0xfea35d(0x1f0)]()-_0x8839a>_0x23b62c&&(clearInterval(_0x2cce79),_0x3f1e9d(new Error(_0xfea35d(0x1f7)+_0x2228cb)));},0x12c);});}function _0xb28311(_0x59398f){const _0x107b3d=_0xa2aa;try{_0x59398f[_0x107b3d(0x1fa)](new MouseEvent(_0x107b3d(0x20d),{'bubbles':!![],'cancelable':!![]})),_0x59398f[_0x107b3d(0x1fa)](new MouseEvent('mouseup',{'bubbles':!![],'cancelable':!![]})),_0x59398f[_0x107b3d(0x1fa)](new MouseEvent(_0x107b3d(0x20e),{'bubbles':!![],'cancelable':!![]})),console[_0x107b3d(0x204)](_0x107b3d(0x1f9));}catch(_0x3eba96){console['error'](_0x107b3d(0x206),_0x3eba96);}}const _0x2ff2e4={'okButton':_0x1cb051(0x1ee),'saveButton':_0x1cb051(0x212),'backButton':'a.router-link-active[href=\x22#/\x22]'};async function _0xa3ba0d(){const _0x2c038d=_0x1cb051;console[_0x2c038d(0x204)](_0x2c038d(0x211));try{const _0x1c70e7=await _0x3d026a(_0x2ff2e4[_0x2c038d(0x216)],0x2710);_0x1c70e7['click'](),console[_0x2c038d(0x204)](_0x2c038d(0x1f3)),await _0x1139da(0x3e8);}catch{console['log']('⚠️\x20Botão\x20OK\x20não\x20encontrado.');}try{const _0x4c59bb=document[_0x2c038d(0x213)](_0x2ff2e4['saveButton']);_0x4c59bb?(_0x4c59bb[_0x2c038d(0x20e)](),console[_0x2c038d(0x204)]('💾\x20Botão\x20Salvar\x20clicado'),await _0x1139da(0x3e8)):console[_0x2c038d(0x204)]('⚠️\x20Botão\x20Salvar\x20não\x20encontrado.');}catch(_0x49bdca){console['log']('❌\x20Erro\x20ao\x20tentar\x20clicar\x20em\x20Salvar:',_0x49bdca);}try{const _0x14ec94=document[_0x2c038d(0x213)](_0x2ff2e4['okButton']);_0x14ec94?(_0x14ec94[_0x2c038d(0x20e)](),console[_0x2c038d(0x204)](_0x2c038d(0x207)),await _0x1139da(0x3e8)):console[_0x2c038d(0x204)](_0x2c038d(0x1f5));}catch{console[_0x2c038d(0x204)]('⚠️\x20Botão\x20OK\x20final\x20não\x20encontrado.');}try{const _0x4ee1d=await _0x3d026a(_0x2ff2e4[_0x2c038d(0x1fe)],0x2710);_0x4ee1d&&(_0xb28311(_0x4ee1d),console['log'](_0x2c038d(0x217)));}catch(_0x50a291){console[_0x2c038d(0x204)](_0x2c038d(0x1f2),_0x50a291);}_0x3b637e();}const _0x257e97=new MutationObserver(_0x587099=>{const _0x1de63f=_0x1cb051;for(const _0x103b5c of _0x587099){if(_0x103b5c[_0x1de63f(0x1ea)][_0x1de63f(0x1ff)]>0x0){const _0x4ff289=document[_0x1de63f(0x213)](_0x2ff2e4[_0x1de63f(0x216)]),_0x5e98ef=document[_0x1de63f(0x213)](_0x2ff2e4[_0x1de63f(0x1fc)]);if(_0x4ff289||_0x5e98ef){_0x257e97[_0x1de63f(0x215)](),_0xa3ba0d()['then'](()=>{const _0x422ac1=_0x1de63f;_0x257e97[_0x422ac1(0x214)](document[_0x422ac1(0x209)],{'childList':!![],'subtree':!![]});});break;}}}});function _0x81ee5f(){const _0x5366f7=_0x1cb051;console[_0x5366f7(0x204)](_0x5366f7(0x1ec)),_0x257e97[_0x5366f7(0x214)](document[_0x5366f7(0x209)],{'childList':!![],'subtree':!![]}),_0xa3ba0d();}document['readyState']===_0x1cb051(0x1fb)?document[_0x1cb051(0x20c)](_0x1cb051(0x203),_0x81ee5f):_0x81ee5f();}()));
