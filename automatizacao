// ==UserScript==
// @name         Automação Paineis Ganha Tempo
// @namespace    http://tampermonkey.net/
// @version      1.1
// @description  Automação de painel com salvamento de log
// @author       Carlos Christian Buchhorn Clair / Victor Hugo Santos de Moraes
// @match        https://ganhatempo.seplag.mt.gov.br/ns-panel/
// @icon         https://www.google.com/s2/favicons?sz=64&domain=gov.br
// @grant        GM_download
// @run-at       document-idle
// ==/UserScript==

function _0x404d(_0x45d51c,_0x11c90b){const _0x2bc94a=_0x2bc9();return _0x404d=function(_0x404d42,_0x2916cf){_0x404d42=_0x404d42-0x1c6;let _0x5adfba=_0x2bc94a[_0x404d42];return _0x5adfba;},_0x404d(_0x45d51c,_0x11c90b);}function _0x2bc9(){const _0x3df98c=['496WOsYtL','observe','🚀\x20Script\x20de\x20automação\x20com\x20log\x20ativado','function','DOMContentLoaded','div#app\x20>\x20div:nth-of-type(1)\x20>\x20div:nth-of-type(1)\x20>\x20div:nth-of-type(2)\x20>\x20form:nth-of-type(1)\x20>\x20div:nth-of-type(4)\x20>\x20div:nth-of-type(1)\x20>\x20button:nth-of-type(1)','backButton','now','okButton','2398465ZAMKiS','querySelector','3829070mAHBTe','disconnect','151186nZHwZt','1646805pvszvw','body','slice','1478076Epvkkq','toTimeString','log','a.router-link-active[href=\x22#/\x22]','text/plain','queda-log.txt','Timeout\x20ao\x20esperar\x20por\x20','createObjectURL','🔙\x20Botão\x20Voltar\x20clicado','toLocaleDateString','❌\x20Erro\x20ao\x20clicar\x20em\x20voltar\x20ou\x20salvar:','html\x20>\x20body\x20>\x20div:nth-of-type(2)\x20>\x20div:nth-of-type(1)\x20>\x20div:nth-of-type(4)\x20>\x20div:nth-of-type(1)\x20>\x20button:nth-of-type(1)','dispatchEvent','trim','23073900nDjvGE','readyState','36zZFNUl','4VGbvTV','click','saveButton','11WfwlZE','pt-BR','120994nKLWRe','57SSjZwG','then','error','loading','⚙️\x20Automação\x20iniciada...'];_0x2bc9=function(){return _0x3df98c;};return _0x2bc9();}(function(_0x692679,_0x5de51a){const _0x2c7401=_0x404d,_0x23c53c=_0x692679();while(!![]){try{const _0x5b22e8=parseInt(_0x2c7401(0x1d9))/0x1+parseInt(_0x2c7401(0x1f2))/0x2*(parseInt(_0x2c7401(0x1c6))/0x3)+-parseInt(_0x2c7401(0x1ed))/0x4*(parseInt(_0x2c7401(0x1d4))/0x5)+parseInt(_0x2c7401(0x1dc))/0x6+parseInt(_0x2c7401(0x1d8))/0x7*(-parseInt(_0x2c7401(0x1cb))/0x8)+-parseInt(_0x2c7401(0x1ec))/0x9*(-parseInt(_0x2c7401(0x1d6))/0xa)+-parseInt(_0x2c7401(0x1f0))/0xb*(parseInt(_0x2c7401(0x1ea))/0xc);if(_0x5b22e8===_0x5de51a)break;else _0x23c53c['push'](_0x23c53c['shift']());}catch(_0x286098){_0x23c53c['push'](_0x23c53c['shift']());}}}(_0x2bc9,0xcb474),(async function(){'use strict';const _0x3285e9=_0x404d;const _0x372b84=_0x364d7d=>new Promise(_0x5bde2e=>setTimeout(_0x5bde2e,_0x364d7d));let _0x2dc442=0x0,_0x4531f1='';const _0x311ae7=_0x3285e9(0x1e1);function _0x5d8238(){const _0x45905b=_0x3285e9,_0x42416f=new Date(),_0x2d1afc=_0x42416f[_0x45905b(0x1dd)]()[_0x45905b(0x1db)](0x0,0x5),_0x6aa919=_0x42416f[_0x45905b(0x1e5)](_0x45905b(0x1f1));_0x2dc442++;const _0x2ae8d6=_0x2dc442+'-'+_0x2d1afc+'-'+_0x6aa919+'\x0a';_0x4531f1+=_0x2ae8d6;const _0x1690b2=new Blob([_0x4531f1],{'type':_0x45905b(0x1e0)}),_0x440ab1=URL[_0x45905b(0x1e3)](_0x1690b2);GM_download({'url':_0x440ab1,'name':_0x311ae7,'saveAs':![],'onerror':_0x491fbb=>console[_0x45905b(0x1c8)]('❌\x20Erro\x20ao\x20baixar\x20o\x20log:',_0x491fbb),'onload':()=>console[_0x45905b(0x1de)]('📝\x20Queda\x20registrada:\x20'+_0x2ae8d6[_0x45905b(0x1e9)]())});}function _0x5fc069(_0x3f898b,_0x55c9ea=0x2710){return new Promise((_0x49160b,_0x23cad8)=>{const _0x3b3565=_0x404d,_0x1dcf55=Date[_0x3b3565(0x1d2)](),_0x2038f6=setInterval(()=>{const _0x27b0c3=_0x3b3565,_0x472f11=document['querySelector'](_0x3f898b);if(_0x472f11)clearInterval(_0x2038f6),_0x49160b(_0x472f11);else Date[_0x27b0c3(0x1d2)]()-_0x1dcf55>_0x55c9ea&&(clearInterval(_0x2038f6),_0x23cad8(new Error(_0x27b0c3(0x1e2)+_0x3f898b)));},0x12c);});}function _0x232179(_0x4b06b5){const _0x33100e=_0x3285e9;if(typeof _0x4b06b5['click']===_0x33100e(0x1ce))_0x4b06b5[_0x33100e(0x1ee)]();else{const _0x2e6551=new MouseEvent('click',{'bubbles':!![],'cancelable':!![]});_0x4b06b5[_0x33100e(0x1e8)](_0x2e6551);}}const _0x2f2335={'okButton':_0x3285e9(0x1e7),'saveButton':_0x3285e9(0x1d0),'backButton':_0x3285e9(0x1df)};async function _0x5b374a(){const _0x305035=_0x3285e9;console['log'](_0x305035(0x1ca));try{const _0x590fd6=await _0x5fc069(_0x2f2335[_0x305035(0x1d3)],0x2710);_0x590fd6[_0x305035(0x1ee)](),console[_0x305035(0x1de)]('✅\x20Botão\x20OK\x20clicado'),await _0x372b84(0x3e8);}catch{}try{const _0x3e456b=document[_0x305035(0x1d5)](_0x2f2335[_0x305035(0x1ef)]);_0x3e456b&&(_0x3e456b[_0x305035(0x1ee)](),console[_0x305035(0x1de)]('💾\x20Botão\x20Salvar\x20clicado'),await _0x372b84(0x3e8));}catch{}try{const _0x596bb9=document[_0x305035(0x1d5)](_0x2f2335[_0x305035(0x1d3)]);_0x596bb9&&(_0x596bb9[_0x305035(0x1ee)](),console[_0x305035(0x1de)]('✅\x20Botão\x20OK\x20final\x20clicado'),await _0x372b84(0x3e8));}catch{}try{const _0x188439=await _0x5fc069(_0x2f2335[_0x305035(0x1d1)],0x2710);_0x188439&&(_0x232179(_0x188439),console[_0x305035(0x1de)](_0x305035(0x1e4)),_0x5d8238());}catch(_0x2e4bf5){console['log'](_0x305035(0x1e6),_0x2e4bf5);}}const _0x499abb=new MutationObserver(_0x54ab4b=>{const _0x5af2f7=_0x3285e9;for(const _0x2e3175 of _0x54ab4b){if(_0x2e3175['addedNodes']['length']>0x0){const _0x30c361=document[_0x5af2f7(0x1d5)](_0x2f2335[_0x5af2f7(0x1d3)]),_0x18106f=document[_0x5af2f7(0x1d5)](_0x2f2335[_0x5af2f7(0x1ef)]);if(_0x30c361||_0x18106f){_0x499abb[_0x5af2f7(0x1d7)](),_0x5b374a()[_0x5af2f7(0x1c7)](()=>{const _0x3ff48f=_0x5af2f7;_0x499abb['observe'](document[_0x3ff48f(0x1da)],{'childList':!![],'subtree':!![]});});break;}}}});function _0x4d66ec(){const _0x58bd02=_0x3285e9;console[_0x58bd02(0x1de)](_0x58bd02(0x1cd)),_0x499abb[_0x58bd02(0x1cc)](document[_0x58bd02(0x1da)],{'childList':!![],'subtree':!![]}),_0x5b374a();}document[_0x3285e9(0x1eb)]===_0x3285e9(0x1c9)?document['addEventListener'](_0x3285e9(0x1cf),_0x4d66ec):_0x4d66ec();}()));
